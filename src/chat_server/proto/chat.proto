syntax = "proto3";

package ChatService;

message Event {
    message Text {
        string text = 1;
    }
    message Login {
        string name = 1;
    }
    message Logout {
        string name = 1;
    }
    oneof Event {
        Text text = 1;
        Login login = 2;
        Logout logout = 3;
    }
}

service Server {
    rpc ChatStream (stream Event.Text) returns (stream Event) {}
}
